<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Academyflow - Votre plateforme de gestion scolaire</title>
  <meta name="description"
    content="AcademyFlow - Solution de gestion scolaire moderne pour les écoles primaires et secondaires en Afrique">

  <!-- Preload critical resources -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    as="style">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" as="style">

  <!-- Stylesheets -->
  <script src="https://cdn.tailwindcss.com/3.4.16"></script>
  <link rel="stylesheet" href="css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#f59e0b',
            secondary: '#d97706',
            'primary-dark': '#d97706',
            'primary-light': '#fbbf24'
          },
          fontFamily: {
            'sans': ['Inter', 'system-ui', 'sans-serif']
          },
          animation: {
            'fade-in': 'fadeIn 0.6s ease-out',
            'slide-up': 'slideUp 0.6s ease-out',
            'bounce-gentle': 'bounceGentle 2s infinite',
            'pulse-gentle': 'pulseGentle 2s infinite',
            'shake': 'shake 0.5s ease-in-out',
            'progress': 'progress 2s ease-in-out'
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' }
            },
            slideUp: {
              '0%': { opacity: '0', transform: 'translateY(30px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' }
            },
            bounceGentle: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-10px)' }
            },
            pulseGentle: {
              '0%, 100%': { opacity: '1' },
              '50%': { opacity: '0.8' }
            },
            shake: {
              '0%, 100%': { transform: 'translateX(0)' },
              '10%, 30%, 50%, 70%, 90%': { transform: 'translateX(-5px)' },
              '20%, 40%, 60%, 80%': { transform: 'translateX(5px)' }
            },
            progress: {
              '0%': { width: '0%' },
              '100%': { width: '100%' }
            }
          }
        }
      }
    };
  </script>


</head>

<body class="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100">

  <!-- Loading Screen -->
  <div id="loading-screen" class="fixed inset-0 bg-white z-50 flex items-center justify-center">
    <div class="text-center">
      <div class="animate-bounce-gentle mb-4">
        <i class="ri-graduation-cap-line text-primary text-6xl"></i>
      </div>
      <h2 class="text-2xl font-bold text-gray-800 mb-4">
        <span class="text-primary">Academy</span><span class="text-gray-800">Flow</span>
      </h2>
      <div class="w-32 h-1 bg-gray-200 rounded-full overflow-hidden mb-2">
        <div class="loading-progress"></div>
      </div>
      <p class="text-sm text-gray-600">Chargement en cours...</p>
    </div>
  </div>

  <!-- Offline Indicator -->
  <div id="offline-indicator" class="offline-indicator hidden">
    <i class="ri-wifi-off-line mr-2"></i>
    Connexion Internet indisponible
  </div>

  <div class="flex min-h-screen">
    <!-- Left Section -->
    <div class="hidden lg:flex lg:w-1/2 login-bg relative overflow-hidden">
      <div class="absolute inset-0 bg-gradient-to-br from-black/30 to-black/50 flex flex-col justify-between p-12 z-10">
        <div class="animate-fade-in">
          <h1 class="flex items-center space-x-3 text-white text-3xl font-bold mb-2">
            <i class="ri-graduation-cap-line text-primary text-4xl animate-bounce-gentle"></i>
            <span><span class="text-primary">Academy</span><span class="text-white">Flow</span></span>
          </h1>
          <p class="text-white/90 text-sm">L'intelligence numérique au service de votre école</p>
        </div>

        <div class="mb-12 animate-slide-up">
          <h2 class="text-3xl font-bold text-white mb-6 leading-tight">
            Gérez votre école efficacement en toute simplicité
          </h2>
          <p class="text-white/90 text-base mb-8 leading-relaxed">
            AcademyFlow est la solution tout-en-un pour moderniser et professionnaliser
            l'administration des écoles primaires et secondaires en Afrique. Rejoignez notre communauté d'établissements
            qui excellent.
          </p>

          <div class="grid grid-cols-2 gap-8 mt-8">
            <div class="stats-card p-4 rounded-xl">
              <div class="flex items-center">
                <div class="w-12 h-12 flex items-center justify-center bg-white/20 rounded-full mr-4">
                  <i class="ri-building-line text-white text-xl"></i>
                </div>
                <div>
                  <p class="text-white font-bold text-2xl">+5</p>
                  <p class="text-white/80 text-sm">écoles partenaires</p>
                </div>
              </div>
            </div>

            <div class="stats-card p-4 rounded-xl">
              <div class="flex items-center">
                <div class="w-12 h-12 flex items-center justify-center bg-white/20 rounded-full mr-4">
                  <i class="ri-apps-line text-white text-xl"></i>
                </div>
                <div>
                  <p class="text-white font-bold text-2xl">+10</p>
                  <p class="text-white/80 text-sm">modules intégrés</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Section -->
    <div class="w-full lg:w-1/2 flex items-center justify-center p-4 lg:p-8">
      <div class="w-full max-w-md form-container">
        <div class="text-center mb-8">
          <div class="lg:hidden mb-6">
            <h1 class="flex items-center justify-center space-x-2 text-2xl font-bold mb-2">
              <i class="ri-graduation-cap-line text-primary"></i>
              <span><span class="text-primary">Academy</span><span class="text-gray-800">Flow</span></span>
            </h1>
          </div>

          <h2 class="text-2xl font-bold text-gray-800 mb-2">Bienvenue sur AcademyFlow</h2>
          <p class="text-gray-600">Accédez à votre espace personnalisé</p>
        </div>

        <!-- Message Display -->
        <div id="message-container" class="mb-4 hidden">
          <div id="message-content" class="message-box">
            <button id="close-message" class="absolute top-2 right-2 text-current opacity-70 hover:opacity-100">
              <i class="ri-close-line text-sm"></i>
            </button>
          </div>
        </div>

        <!-- Login Form -->
        <div id="login-panel" role="main" aria-labelledby="login-heading">
          <form id="login-form" class="space-y-6" novalidate autocomplete="on">
            <div class="relative">
              <label for="username" class="block text-sm font-semibold text-gray-700 mb-2">
                <i class="ri-user-line mr-1"></i>
                Nom d'utilisateur
              </label>
              <div class="relative">
                <input type="text" id="username" name="username" placeholder="@acad.XXX.XXX" required
                  autocomplete="username" aria-describedby="username-error username-help"
                  class="form-input w-full pl-4 pr-12 py-3 text-sm rounded-lg focus:outline-none transition-all"
                  data-validation="required">
                <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                  <i class="ri-user-line text-gray-400" id="username-icon"></i>
                </div>
              </div>
              <div id="username-error" class="text-red-500 text-xs mt-1 hidden" role="alert"></div>
              <div id="username-help" class="text-gray-500 text-xs mt-1">Format: @acad.XXX.XXX</div>
            </div>

            <div class="relative">
              <div class="flex items-center justify-between mb-2">
                <label for="password" class="block text-sm font-semibold text-gray-700">
                  <i class="ri-lock-line mr-1"></i>
                  Mot de passe
                </label>
                <button type="button" id="forgot-password"
                  class="text-xs text-primary hover:text-primary-dark hover:underline transition-colors focus-visible:focus">
                  Mot de passe oublié ?
                </button>
              </div>
              <div class="relative">
                <input type="password" id="password" name="password" placeholder="••••••••" required
                  autocomplete="current-password" aria-describedby="password-error caps-lock-warning"
                  class="form-input w-full pl-4 pr-12 py-3 text-sm rounded-lg focus:outline-none transition-all"
                  data-validation="required">
                <button type="button" id="toggle-password"
                  class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-primary transition-colors focus-visible:focus"
                  aria-label="Afficher/masquer le mot de passe" tabindex="0">
                  <i class="ri-eye-line" id="password-icon"></i>
                </button>
              </div>
              <div id="password-error" class="text-red-500 text-xs mt-1 hidden" role="alert"></div>
              <div id="caps-lock-warning" class="caps-lock-warning">
                <i class="ri-alert-line mr-1"></i>
                Verr. Maj activé
              </div>
            </div>

            <div class="flex items-center justify-between text-sm">
              <label class="flex items-center space-x-2 cursor-pointer">
                <input type="checkbox" id="remember-me" name="remember"
                  class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary focus:ring-2">
                <span class="text-gray-600">Se souvenir de moi</span>
              </label>
              <div class="flex items-center space-x-1 text-gray-500">
                <i class="ri-shield-check-line text-xs"></i>
                <span class="text-xs">Connexion sécurisée</span>
              </div>
            </div>

            <button id="login-btn" type="submit"
              class="btn-primary w-full text-white text-sm py-3 px-6 rounded-lg font-semibold transition-all duration-300 flex items-center justify-center space-x-2 focus-visible:focus"
              aria-describedby="login-status">
              <svg id="login-spinner" class="hidden animate-spin h-5 w-5 text-white" viewBox="0 0 24 24" fill="none">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4l3-3-3-3v4a10 10 0 00-10 10h4z">
                </path>
              </svg>
              <i id="login-icon" class="ri-login-box-line"></i>
              <span id="login-text">Se connecter</span>
            </button>
            <div id="login-status" class="sr-only" aria-live="polite"></div>
          </form>

          <div class="mt-6 text-center">
            <p class="text-xs text-gray-500">
              En vous connectant, vous acceptez nos
              <a href="#" class="text-primary hover:underline">conditions d'utilisation</a>
              et notre
              <a href="#" class="text-primary hover:underline">politique de confidentialité</a>
            </p>
          </div>

          <div class="mt-8 pt-6 border-t border-gray-200">
            <div class="text-center">
              <p class="text-sm text-gray-600 mb-3">Contactez nous au <a href="https://wa.me/22959287815" target="_blank"><span class="text-primary">+2290159287815</span></a> pour obtenir votre clé d'accès ou faites une demande <span class="text-primary">ici</span></p>
              <button type="button" id="demo-btn"
                class="text-primary hover:text-primary-dark font-medium text-sm hover:underline transition-colors focus-visible:focus">
                <i class="ri-play-circle-line mr-1"></i>
                Faire une demande
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- Popup de récupération mot de passe -->
 <div class="overlay hidden" id="overlay">
  <div class="popup bg-white rounded-lg shadow-lg p-6 max-w-md mx-auto mt-20 relative animate-fade-in">
    <button class="absolute top-2 right-3 text-gray-400 hover:text-red-500 text-xl" onclick="closePopup()">&times;</button>
    
    <div class="popup-header text-center mb-4">
      <div class="lock-icon text-4xl text-primary mb-2">
        🔒
      </div>
      <h2 class="text-xl font-bold text-gray-800">Mot de passe oublié ?</h2>
      <p class="text-sm text-gray-600">
        Entrez votre nom d'utilisateur et nous vous enverons un lien de réinitialisation par email. Si vous ne parvenez par à récupérer vos mot de passe ou vous avez oublié votre non d'utilisateur, veuillez contacter le service client @academyflow au <span class="text-primary">+2290159287815</span>
      </p>
    </div>

    <div class="success-message hidden text-green-600 text-sm mb-4 text-center" id="successMessage">
      ✅ Un email de récupération a été envoyé avec succès ! Il s'agit de l'email utilisé lors de l'enregistrment. Veuillez consulté votre boîte de reception. Merci!
    </div>
    <div class="error-message hidden text-red-600 text-sm mb-4 text-center" id="forgotErrorMessage">
</div>

    <form id="forgotPasswordForm" class="space-y-4">
      <div class="form-group">
        <label for="forgot-username" class="block text-sm font-medium text-gray-700">Nom d'utilisateur</label>
        <input
          type="text"
          id="forgot-username"
          name="username"
          required
          placeholder="@acad.xxx.xxx"
          class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:outline-none"
        >
      </div>

      <button type="submit"
        class="w-full bg-primary hover:bg-primary-dark text-white py-2 rounded-md font-semibold transition" id="forgot-submit-btn">
        <svg id="forgot-spinner" class="hidden animate-spin h-5 w-5 text-white" viewBox="0 0 24 24" fill="none">
    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4l3-3-3-3v4a10 10 0 00-10 10h4z"/>
  </svg>
  <span id="forgot-text">Envoyer le lien de récupération</span>
      </button>
    </form>

    <div class="text-center mt-4 text-sm">
      <a href="#" class="text-primary hover:underline" onclick="closePopup()">← Retour à la connexion</a>
    </div>
  </div>
</div>



  <script src="js/login.js"></script>
</body>

</html>